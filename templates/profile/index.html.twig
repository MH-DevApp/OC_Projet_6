{% extends 'base.html.twig' %}

{% block title %}Profil {{ app.user.username|capitalize }}{% endblock %}

{% block body %}
    <div class="flex-fill d-flex flex-column justify-content-center">
        <div class="row m-0 p-0 justify-content-center">
            <div class="col-12 col-sm-10 col-lg-8 col-xl-6 col-xxl-5">
                <div class="d-none justify-content-center">
                    {{ form_start(formAvatar) }}
                    {{ form_rest(formAvatar) }}
                    {{ form_end(formAvatar) }}
                </div>
            </div>
        </div>
        <div class="row m-0 mb-3 p-0 justify-content-center">
            <div class="col-12 col-sm-10 col-lg-8 col-xl-6 col-xxl-5">
                <h2 class="bg-primary-1 m-0 p-2 ps-3 text-decoration-underline rounded-top border-bottom border-secondary fs-3">Informations personnelles</h2>
                <div id="containerFormInfos" class="d-{{ formInfos.vars.submitted ? 'flex' : 'none' }} justify-content-center">
                    {{ form_start(formInfos) }}
                    {{ form_rest(formInfos) }}
                    <div class="d-flex gap-2 justify-content-end align-items-center">
                        <input id="btnCancelFormInfos" class="btn btn-outline-danger" type="button" value="Annuler" />
                        <input class="btn btn-primary" type="submit" value="Enregistrer" />
                    </div>
                    {{ form_end(formInfos) }}
                </div>
                <div id="containerShowInfos" class="d-flex justify-content-center">
                    <div class="d-{{ formInfos.vars.submitted ? 'none' : 'flex' }} flex-column w-100 shadow p-3 rounded">
                        <div class="d-flex flex-column">
                            <p class="form-label">Email</p>
                            <p data-field="email" class="w-100 border form-control rounded">
                                {{ app.user.email }}
                            </p>
                        </div>
                        <div class="d-flex flex-column">
                            <p class="form-label">Nom d'utilisateur</p>
                            <p data-field="username" class="w-100 border form-control rounded">
                                {{ app.user.username|capitalize }}
                            </p>
                        </div>
                        <div class="d-flex justify-content-end align-items-center">
                            <input id="btnUpdateInfos" class="btn btn-primary" type="button" value="Modifier" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m-0 p-0 justify-content-center">
            <div class="col-12 col-sm-10 col-lg-8 col-xl-6 col-xxl-5">
                <h2 class="bg-primary-1 m-0 p-2 ps-3 text-decoration-underline rounded-top border-bottom border-secondary fs-3">Modifier le mot de passe</h2>
                <div class="d-flex justify-content-center">
                    {{ form_start(formResetPassword) }}
                    {{ form_rest(formResetPassword) }}
                    <div class="d-flex justify-content-end align-items-center">
                        <input class="btn btn-primary" type="submit" value="Modifier" />
                    </div>
                    {{ form_end(formResetPassword) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset("assets/scripts/profile.js") }}" type="text/javascript"></script>
{% endblock %}
